<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Ch√∫c M·ª´ng NƒÉm M·ªõi 2026</title>

<style>
html,body{
    margin:0;
    padding:0;
    overflow:hidden;
    background:radial-gradient(circle at bottom,#020111,#000);
    font-family:system-ui,sans-serif;
    color:white;
}
canvas{position:fixed;top:0;left:0;}
.overlay{
    position:fixed;
    top:7%;
    width:100%;
    text-align:center;
    z-index:10;
    pointer-events:none;
    padding:0 10px;
}
h1{
    font-size:clamp(1.8rem,5vw,3rem);
    color:#ffeb3b;
    text-shadow:0 0 20px #ff9800;
}
.countdown{
    display:flex;
    justify-content:center;
    gap:10px;
    margin:15px 0;
}
.time-box{
    background:rgba(255,255,255,0.08);
    border-radius:14px;
    padding:10px 14px;
    min-width:60px;
}
.time{
    font-size:clamp(1.4rem,4vw,2rem);
    font-weight:bold;
    color:#00e5ff;
}
.label{font-size:.75rem;opacity:.8;}
.hint{
    position:fixed;
    bottom:10px;
    width:100%;
    text-align:center;
    font-size:.8rem;
    opacity:.7;
    z-index:10;
}
.floating{
    position:fixed;
    bottom:-60px;
    padding:10px 16px;
    border-radius:20px;
    border:1px solid rgba(255,255,255,0.4);
    background:rgba(0,0,0,0.45);
    color:#e0f7fa;
    white-space:nowrap;
    animation:floatUp linear forwards;
    pointer-events:none;
    box-shadow:0 0 12px rgba(255,255,255,.25);
}
@keyframes floatUp{
    from{transform:translateY(0);opacity:0}
    10%{opacity:1}
    to{transform:translateY(-120vh);opacity:0}
}
</style>
</head>
<body>

<canvas id="canvas"></canvas>

<div class="overlay">
<h1 id="title">üéÜ ƒê·∫æM NG∆Ø·ª¢C ƒê√ìN NƒÇM M·ªöI 2026 üéÜ</h1>
<div class="countdown" id="countdown">
<div class="time-box"><div class="time" id="days">00</div><div class="label">Ng√†y</div></div>
<div class="time-box"><div class="time" id="hours">00</div><div class="label">Gi·ªù</div></div>
<div class="time-box"><div class="time" id="minutes">00</div><div class="label">Ph√∫t</div></div>
<div class="time-box"><div class="time" id="seconds">00</div><div class="label">Gi√¢y</div></div>
</div>
</div>

<div class="hint">‚ú® Ch·∫°m / Click ƒë·ªÉ b·∫Øn ph√°o hoa ‚ú®</div>

<audio id="music" src="music.mp3" loop></audio>

<script>
/* ===== CANVAS ===== */
const canvas=document.getElementById("canvas");
const ctx=canvas.getContext("2d");
function resize(){canvas.width=innerWidth;canvas.height=innerHeight}
resize();addEventListener("resize",resize);

/* ===== PH√ÅO HOA ===== */
let fireworks=[],particles=[];
class Firework{
constructor(x){
this.x=x;this.y=canvas.height;
this.ty=Math.random()*canvas.height*0.45;
this.sp=6+Math.random()*3;
this.h=Math.random()*360;
this.e=false}
update(){
this.y-=this.sp;
if(this.y<=this.ty&&!this.e){
this.e=true;
explode(this.x,this.y,this.h);
}}
draw(){
ctx.fillStyle=`hsl(${this.h},100%,60%)`;
ctx.beginPath();ctx.arc(this.x,this.y,2,0,Math.PI*2);ctx.fill();
}}
class Particle{
constructor(x,y,h,spd,grav,size,life){
this.x=x;this.y=y;
this.a=Math.random()*Math.PI*2;
this.s=spd*(Math.random()*0.6+0.4);
this.g=grav;
this.size=size;
this.h=h+Math.random()*20-10;
this.al=1;
this.life=life;
}
update(){
this.x+=Math.cos(this.a)*this.s;
this.y+=Math.sin(this.a)*this.s+this.g;
this.al-=this.life;
}
draw(){
ctx.save();
ctx.globalAlpha=this.al;
ctx.fillStyle=`hsl(${this.h},100%,60%)`;
ctx.beginPath();
ctx.arc(this.x,this.y,this.size,0,Math.PI*2);
ctx.fill();
ctx.restore();
}}

/* ===== √ÇM THANH PH√ÅO HOA T·ª∞ T·∫†O (CH√ÇN TH·∫¨T) ===== */
const audioCtx=new (window.AudioContext||window.webkitAudioContext)();

function fireSound(){
    const now = audioCtx.currentTime;

    // Noise (ti·∫øng n·ªï)
    const buffer = audioCtx.createBuffer(1, audioCtx.sampleRate * 0.6, audioCtx.sampleRate);
    const data = buffer.getChannelData(0);
    for(let i=0;i<data.length;i++){
        data[i] = (Math.random()*2-1) * Math.exp(-i/12000);
    }
    const noise = audioCtx.createBufferSource();
    noise.buffer = buffer;

    // Low bass
    const bass = audioCtx.createOscillator();
    bass.type="sine";
    bass.frequency.setValueAtTime(60+Math.random()*20,now);

    const gain = audioCtx.createGain();
    gain.gain.setValueAtTime(0.6,now);
    gain.gain.exponentialRampToValueAtTime(0.001,now+0.8);

    noise.connect(gain);
    bass.connect(gain);
    gain.connect(audioCtx.destination);

    noise.start(now);
    bass.start(now);

    noise.stop(now+0.6);
    bass.stop(now+0.5);
}

/* ===== N·ªî T·∫¶NG ===== */
function explode(x,y,h){
fireSound();
for(let i=0;i<50;i++)particles.push(new Particle(x,y,h,5,0,2,0.02));
for(let i=0;i<70;i++)particles.push(new Particle(x,y,h+20,3,0.05,2,0.015));
for(let i=0;i<40;i++)particles.push(new Particle(x,y,h-30,2,0.08,1.8,0.012));
for(let i=0;i<30;i++)particles.push(new Particle(x,y,h,1.5,0.15,1.5,0.01));
}

/* ===== LOOP ===== */
function animate(){
ctx.fillStyle="rgba(0,0,0,.25)";
ctx.fillRect(0,0,canvas.width,canvas.height);
fireworks.forEach((f,i)=>{f.update();f.draw();if(f.e)fireworks.splice(i,1)});
particles.forEach((p,i)=>{p.update();p.draw();if(p.al<=0)particles.splice(i,1)});
requestAnimationFrame(animate);
}
animate();

setInterval(()=>fireworks.push(new Firework(Math.random()*canvas.width)),1200);

let started=false;
addEventListener("pointerdown",e=>{
fireworks.push(new Firework(e.clientX));
if(!started){
music.volume=.5;
music.play();
audioCtx.resume();
started=true;
}});

/* ===== COUNTDOWN ===== */
const target=new Date("2026-01-01T00:00:00+07:00").getTime();
setInterval(()=>{
let d=target-Date.now();
if(d<=0){
title.innerHTML="üéâ CH√öC M·ª™NG NƒÇM M·ªöI 2026 üéâ";
countdown.style.display="none";
d=0;
}
days.innerText=String(Math.floor(d/86400000)).padStart(2,"0");
hours.innerText=String(Math.floor(d/3600000)%24).padStart(2,"0");
minutes.innerText=String(Math.floor(d/60000)%60).padStart(2,"0");
seconds.innerText=String(Math.floor(d/1000)%60).padStart(2,"0");
},1000);

/* ===== L·ªúI CH√öC BAY ===== */
const wishes=[
"üå∏ Ch√∫c nƒÉm m·ªõi S·ª®C KH·ªéE d·ªìi d√†o",
"üí∞ T√ÄI L·ªòC vi√™n m√£n ‚Äì hanh th√¥ng",
"‚ù§Ô∏è GIA ƒê√åNH h·∫°nh ph√∫c ‚Äì b√¨nh an",
"üöÄ VI THANH NGHIA CODE HTML+CSS"
];
setInterval(()=>{
const d=document.createElement("div");
d.className="floating";
d.innerText=wishes[Math.floor(Math.random()*wishes.length)];
d.style.left=Math.random()*90+"vw";
d.style.animationDuration=15+Math.random()*10+"s";
document.body.appendChild(d);
setTimeout(()=>d.remove(),25000);
},700);
</script>

</body>
</html>
